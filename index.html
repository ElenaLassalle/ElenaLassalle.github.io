<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>vCard - Personal Portfolio</title>

  <!--
    - C language
  -->
  <!-- Include Prism.js core -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/themes/prism.css" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCmUOp5M7DlXtZc80N5l5I2vZq5L8jXTMZ3KmiC2aT" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/prismjs@1.25.0"></script>

<!-- Include the C language extension -->
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/components/prism-c.min.js"></script>


  <!--
    - favicon
  -->
  <link rel="shortcut icon" href="./assets/images/logo.ico" type="image/x-icon">

  <!--
    - custom css link
  -->
  <link rel="stylesheet" href="./assets/css/style.css">

  <!--
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>

<body>

  <!--
    - #MAIN
  -->

  <main>

    <!--
      - #SIDEBAR
    -->

    
    <aside class="sidebar" data-sidebar>

      <div class="sidebar-info">

        <figure class="avatar-box">
          <img src="./assets/images/my-avatar.png" alt="Robospierre" width="80">
        </figure>

        <div class="info-content">
          <h1 class="name" title="Robospierre">Robospierre</h1>
        </div>

        <button class="info_more-btn" data-sidebar-btn>
          <span>Show Contacts</span>

          <ion-icon name="chevron-down"></ion-icon>
        </button>

      </div>

      <div class="sidebar-info_more">

        <div class="separator"></div>

        <ul class="contacts-list">

          <li class="contact-item">

            <div class="service-icon-box">
              <img src="./assets/images/height.png
              " alt="design icon" width="40">
            </div>

            <div class="contact-info">
              <p class="contact-title">Height</p>

              <a href="mailto:richard@example.com" class="contact-link">15 cm</a>
            </div>

          </li>

          <li class="contact-item">

            <div class="service-icon-box">
              <img src="./assets/images/length.png
              " alt="design icon" width="40">
            </div>

            <div class="contact-info">
              <p class="contact-title">Length</p>

              <a href="tel:+12133522795" class="contact-link">25 cm</a>
            </div>

          </li>

          <li class="contact-item">

            <div class="service-icon-box">
              <img src="./assets/images/width.png
              " alt="design icon" width="40">
            </div>

            <div class="contact-info">
              <p class="contact-title">Width</p>

              <time datetime="1982-06-23">15 cm</time>
            </div>

          </li>

        </ul>

    </aside>





    <!--
      - #main-content
    -->

    <div class="main-content">

      <!--
        - #NAVBAR
      -->

      <nav class="navbar">

        <ul class="navbar-list">

          <li class="navbar-item">
            <button class="navbar-link  active" data-nav-link>About</button>
          </li>

          <li class="navbar-item">
            <button class="navbar-link" data-nav-link>Architecture</button>
          </li>

          <li class="navbar-item">
            <button class="navbar-link" data-nav-link>Algorithms</button>
          </li>

          <li class="navbar-item">
            <button class="navbar-link" data-nav-link>Source code</button>
          </li>

          <li class="navbar-item">
            <button class="navbar-link" data-nav-link>Videos</button>
          </li>

        </ul>

      </nav>

      <nav class="secondary-navbar" style="display: none;">
        <ul class="navbar-list">
          <li class="navbar-item">
            <button class="navbar-link active" data-secondary-nav-link>Main</button>
          </li>
          <li class="navbar-item">
            <button class="navbar-link" data-secondary-nav-link>Category 2</button>
          </li>
          <!-- Add more items as needed -->
        </ul>
      </nav>





      <!--
        - #ABOUT
      -->

      <article class="about  active" data-page="about">

        <header>
          <h2 class="h2 article-title">About our robot</h2>
        </header>

        <section class="about-text">
          <p>
            This project requested us to build and programm a LEGO robot to enter a competition. 
            This robot has to be able to reach a flag, pick it up and bring it back to a certain zone.
          </p>

        </section>


        <!--
          - service
        -->

        <section class="service">

          <h3 class="h3 service-title">What it can do</h3>

          <ul class="service-list">

            <li class="service-item">

              <div class="service-icon-box">
                <img src="./assets/images/move.png" width="10">
              </div>

              <div class="service-content-box">
                <h4 class="h4 service-item-title">Reach the flag</h4>

              </div>

            </li>

            <li class="service-item">

              <div class="service-icon-box">
                <img src="./assets/images/picking_up.png" width="10">
              </div>

              <div class="service-content-box">
                <h4 class="h4 service-item-title">Pick up the flag</h4>

              </div>

            </li>

            <li class="service-item">

              <div class="service-icon-box">
                <img src="./assets/images/avoid.png" width="10">
              </div>

              <div class="service-content-box">
                <h4 class="h4 service-item-title">Avoid obstacles</h4>

              </div>

            </li>

            <li class="service-item">

              <div class="service-icon-box">
                <img src="./assets/images/put_down.png" width="10">
              </div>

              <div class="service-content-box">
                <h4 class="h4 service-item-title">Put down the flag</h4>

              </div>

            </li>

          </ul>

        </section>


        <!--
          - testimonials
        -->

        <section class="testimonials">

          <h3 class="h3 testimonials-title">Members of the group</h3>

          <ul class="testimonials-list has-scrollbar">

            <li class="testimonials-item">
              <div class="content-card" data-testimonials-item>

                <figure class="testimonials-avatar-box">
                  <img src="./assets/images/avatar-1.png" alt="Henri" width="60" data-testimonials-avatar>
                </figure>

                <h4 class="h4 testimonials-item-title" data-testimonials-title>Henri Gasc</h4>

                <div class="testimonials-text" data-testimonials-text>
                  <p>
                    Richard was hired to create a corporate identity. We were very pleased with the work done. She has a
                    lot of experience
                    and is very concerned about the needs of client. Lorem ipsum dolor sit amet, ullamcous cididt
                    consectetur adipiscing
                    elit, seds do et eiusmod tempor incididunt ut laborels dolore magnarels alia.
                  </p>
                </div>

              </div>
            </li>

            <li class="testimonials-item">
              <div class="content-card" data-testimonials-item>

                <figure class="testimonials-avatar-box">
                  <img src="./assets/images/avatar-2.png" alt="Elena" width="60" data-testimonials-avatar>
                </figure>

                <h4 class="h4 testimonials-item-title" data-testimonials-title>Elena Lassalle</h4>

                <div class="testimonials-text" data-testimonials-text>
                  <p>
                    Richard was hired to create a corporate identity. We were very pleased with the work done. She has a
                    lot of experience
                    and is very concerned about the needs of client. Lorem ipsum dolor sit amet, ullamcous cididt
                    consectetur adipiscing
                    elit, seds do et eiusmod tempor incididunt ut laborels dolore magnarels alia.
                  </p>
                </div>

              </div>
            </li>

            <li class="testimonials-item">
              <div class="content-card" data-testimonials-item>

                <figure class="testimonials-avatar-box">
                  <img src="./assets/images/avatar-3.png" alt="Massin" width="60" data-testimonials-avatar>
                </figure>

                <h4 class="h4 testimonials-item-title" data-testimonials-title>Massin Choukri</h4>

                <div class="testimonials-text" data-testimonials-text>
                  <p>
                    Richard was hired to create a corporate identity. We were very pleased with the work done. She has a
                    lot of experience
                    and is very concerned about the needs of client. Lorem ipsum dolor sit amet, ullamcous cididt
                    consectetur adipiscing
                    elit, seds do et eiusmod tempor incididunt ut laborels dolore magnarels alia.
                  </p>
                </div>

              </div>
            </li>

          </ul>

        </section>


        <!--
          - testimonials modal
        -->

        <div class="modal-container" data-modal-container>

          <div class="overlay" data-overlay></div>

          <section class="testimonials-modal">

            <button class="modal-close-btn" data-modal-close-btn>
              <ion-icon name="close-outline"></ion-icon>
            </button>

            <div class="modal-img-wrapper">
              <figure class="modal-avatar-box">
                <img src="./assets/images/avatar-1.png" alt="Daniel lewis" width="80" data-modal-img>
              </figure>

              <img src="./assets/images/icon-quote.svg" alt="quote icon">
            </div>

            <div class="modal-content">

              <h4 class="h3 modal-title" data-modal-title>Daniel lewis</h4>

              <time datetime="2021-06-14">14 June, 2021</time>

              <div data-modal-text>
                <p>
                  Richard was hired to create a corporate identity. We were very pleased with the work done. She has a
                  lot of experience
                  and is very concerned about the needs of client. Lorem ipsum dolor sit amet, ullamcous cididt
                  consectetur adipiscing
                  elit, seds do et eiusmod tempor incididunt ut laborels dolore magnarels alia.
                </p>
              </div>

            </div>

          </section>

        </div>

      </article>





      <!--
        - #RESUME
      -->

      <article class="architecture" data-page="architecture">

        <header>
          <h2 class="h2 article-title">Architecture</h2>
        </header>

        <section class="timeline">

          <div class="title-wrapper">
            <div class="icon-box">
              <ion-icon name="book-outline"></ion-icon>
            </div>

            <h3 class="h3">Sensors</h3>
          </div>

          <ol class="timeline-list">

            <li class="timeline-item">

              <h4 class="h4 timeline-item-title">Sonar</h4>

              <p class="timeline-text">
                The sonar is used to detect the walls so our robot can know where it is.
              </p>

            </li>

            <li class="timeline-item">

              <h4 class="h4 timeline-item-title">Gyroscope</h4>

              <p class="timeline-text">
                The gyroscope is used to turn to certain angles and to locate the starting position.
              </p>

            </li>

            <li class="timeline-item">

              <h4 class="h4 timeline-item-title">Color sensor</h4>

              <p class="timeline-text">
                The color sensor is used to detect that the flag has been caught.
              </p>

            </li>

          </ol>

        </section>

        <section class="timeline">

          <div class="title-wrapper">
            <div class="icon-box">
              <ion-icon name="book-outline"></ion-icon>
            </div>

            <h3 class="h3">Motors</h3>
          </div>

          <ol class="timeline-list">

            <li class="timeline-item">

              <h4 class="h4 timeline-item-title">Two wheel motors</h4>

              <p class="timeline-text">
                We used two motors rotating around the abscisse axis, one for each wheel.
              </p>

            </li>

            <li class="timeline-item">

              <h4 class="h4 timeline-item-title">One clamp motor</h4>

              <p class="timeline-text">
                We used another motor that rotates around the abscisse axis to close a clamp.
              </p>

            </li>

          </ol>

        </section>

      </article>





      <!--
        - #PORTFOLIO
      -->

      <article class="algorithms" data-page="algorithms">

        <header>
          <h2 class="h2 article-title">Algorithms</h2>
        </header>

        <section class="timeline">

          <ul class="filter-list">

            <li class="filter-item">
              <button class="active" data-filter-btn>All</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>Phase 0</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>Phase 1</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>Phase 2</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>Phase 3</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>Phase 4</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>Phase 5</button>
            </li>

          </ul>

          <div class="filter-select-box">

            <button class="filter-select" data-select>

              <div class="select-value" data-selecct-value>Select category</div>

              <div class="select-icon">
                <ion-icon name="chevron-down"></ion-icon>
              </div>

            </button>

            <ul class="select-list">

              <li class="select-item active">
                <button data-select-item>All</button>
              </li>

              <li class="select-item">
                <button data-select-item>Phase 0</button>
              </li>

              <li class="select-item">
                <button data-select-item>Phase 1</button>
              </li>

              <li class="select-item">
                <button data-select-item>Phase 2</button>
              </li>

              <li class="select-item">
                <button data-select-item>Phase 3</button>
              </li>

              <li class="select-item">
                <button data-select-item>Phase 4</button>
              </li>

              <li class="select-item">
                <button data-select-item>Phase 5</button>
              </li>

            </ul>

          </div>

          <ul class="project-list">

            <li class="project-item  active" data-filter-item data-category="phase 0">
              <a href="#">
                <h4 class="h4 timeline-item-title">Phase 0</h4>
                <p class="timeline-text">

                  Using the gyroscope, the robot turns until it has reached the starting angle + 45°
                </p>

              </a>
            </li>

            
            <li class="project-item active" data-filter-item data-category="phase 1">
              <h4 class="h4 timeline-item-title">Phase 1</h4>

                <p class="timeline-text">
                  The robot moves forward until it is at a certain distance from the wall (detected using the sonar) 
                  and then turns back to the angle of its strating position.
                </p>

              
            </li>

            <li class="project-item active" data-filter-item data-category="phase 2">
              <h4 class="h4 timeline-item-title">Phase 2</h4>

                <p class="timeline-text">
                  The robot moves forward until it is at a certain distance from the wall (detected using the sonar) 
                  and then turns back to the angle of its starting position and moves forward.
                  If it encounters an obstacle that is not the wall, it will bypass it by going to the
                  other side of the arena and coming back to the original side a bit farther away.
                </p>

              
            </li>

            <li class="project-item active" data-filter-item data-category="phase 3">
              <h4 class="h4 timeline-item-title">Phase 3</h4>

                <p class="timeline-text">
                  Once the robot is close enough to the wall, it turns at a 90° angle and opens the clamp.
                  It moves forward until it is within range of the flag and then closes the clamp. 
                  Once it's out of the range of the flag, the robot moves forward until it's close to the wall 
                  and turns another 90°.
                </p>

            </li>

            <li class="project-item active" data-filter-item data-category="phase 4">
              <h4 class="h4 timeline-item-title">Phase 4</h4>

                <p class="timeline-text">
                  The robot goes back to its starting camp by going forward. If it encounters an obstacle,
                  it bypasses it by simply going to the other side and then continuing to the camp.
                </p>

            </li>

            <li class="project-item active" data-filter-item data-category="phase 5">
              <h4 class="h4 timeline-item-title">Phase 5</h4>

                <p class="timeline-text">
                  Once the robot reaches the wall, it turns so the clamp is within the camp. 
                  It opens the clamp and turns to release the flag.
                </p>

            </li>

          </ul>

        </section>

      </article>





      <!--
        - #BLOG
      -->

      <article class="source code" data-page="source code">

        <header>
          <h2 class="h2 article-title">Source code</h2>
        </header>

        
        <section class="timeline">

          <ul class="filter-list">

            <li class="filter-item active">
              <button data-filter-btn>Main</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>move_straight</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>turn_to</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>bypass_obstacle</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>bypass_back</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>get_color_from_sensor</button>
            </li>

            <li class="filter-item">
              <button data-filter-btn>Full code</button>

            </li>

          </ul>

          <div class="filter-select-box">

            <button class="filter-select" data-select>

              <div class="select-value" data-selecct-value>Select category</div>

              <div class="select-icon">
                <ion-icon name="chevron-down"></ion-icon>
              </div>

            </button>

            <ul class="select-list">

              <li class="select-item active">
                <button data-select-item>Main</button>
              </li>

              <li class="select-item">
                <button data-select-item>move_straight</button>
              </li>

              <li class="select-item">
                <button data-select-item>turn_to</button>
              </li>

              <li class="select-item">
                <button data-select-item>bypass_obstacle</button>
              </li>

              <li class="select-item">
                <button data-select-item>bypass_back</button>
              </li>

              <li class="select-item">
                <button data-select-item>get_color_from_sensor</button>
              </li>

              <li class="select-item">
                <button data-select-item>Full code</button>
              </li>

            </ul>

          </div>
          

          <div class="project-item active" data-filter-item data-phase="main" >

           
            <h3 class="h3 form-title active">Main</h3>


            <pre class="timeline-text">
              int main(void) {
                int status;
                if ((status = init_robot())) {
                    return status;
                }
            
                int max_speed = get_min_maxspeed(sn_wheel_left, sn_wheel_right, sn_clamp);
                if (max_speed < 0) {
                    return max_speed;
                }
            
                const int speed_move_default = max_speed / 4;
                const int speed_return = speed_move_default;
                const int speed_clamp = max_speed / 6;
                const int speed_right = speed_move_default;
                const int speed_left = speed_move_default;
            
                /* Here are the angle the robot should follow for all phases */
                // const float gyro_val_start = turn_until_min(speed_clamp, DEFAULT_TIME);
                const float gyro_val_start = update_gyro();
                const float first_angle = gyro_val_start + 45;
                const float second_angle = gyro_val_start - 2;
                const float third_angle = gyro_val_start - 90;
                const float fourth_angle = gyro_val_start - 182;
                const float fifth_angle = gyro_val_start - 290;
                const float tenth_angle = gyro_val_start - 270;
            
                float ref_angle_fourth_phase = fourth_angle;
            
                printf("%f, %f, %f, %f, %f, %f\n", gyro_val_start, first_angle, second_angle,
                 third_angle, fourth_angle, fifth_angle);
            
                float sonar = 0;
                bool quit = false;
                bool can_catch = false;
                bool allow_quit = false;
                time_t start = time(NULL);
            
                while (!quit) {
                    if ((action == 0) || (action == 4)) {
                        get_sensor_value0(sn_sonar, &val_sonar);
                        sonar = val_sonar;
                    } else {
                        sonar = update_sonar();
                    }
                    if (!sonar) {
                        continue;
                    }
            
                    // Phase 0
                    if (action == 0) {
                        turn_to(2 * speed_move_default, first_angle, 1);
                        change_action();
                    }
                    if (sonar > 0) {
                        if (sonar >= DISTANCE_STOP) {
                            allow_quit = false;
                        }
                        if ((sonar <= DISTANCE_STOP) && allow_quit) {
                            quit = true;
                        }
            
                        // Phase 1
                        else if (action == 1) {
                            if (sonar < 280) {
                                turn_to(speed_move_default, second_angle, 1);
                                change_action();
                            } else {
                                move_straight(speed_move_default, DEFAULT_TIME, first_angle);
                            }
                        // Phase 2
                        } else if (action == 2) {
                            if (sonar < 230) {
                                time_t now = time(NULL);
                                int diff = now - start;
                                printf("%ld\n", now);
                                if (diff < 12) {
                                    bypass_obstacle(speed_move_default, gyro_val_start, (diff < 8) && (diff > 5));
                                } else {
                                    turn_to(speed_clamp, third_angle, 0);
                                    now = time(NULL);
                                    while (start + 20 > now) {
                                        printf("\rMoving again in %2ld", start + 20 - now);
                                        fflush(stdout);
                                        Sleep(1);
                                        time(&now);
                                    }
                                    printf("\rStarting now !           \n");
                                    change_action();
                                    sonar = update_sonar();
                                }
                            } else {
                                move_straight(speed_move_default, DEFAULT_TIME, second_angle);
                            }
                        // Phase 3
                        } else if (action == 3) {
                            // printf("%s\n", get_color_from_sensor());
                            if (sonar < 240) {
                                turn_to(speed_clamp, fourth_angle, 0);
                                start_4 = time(NULL);
                                if (can_catch) { // We did not found the flag
                                    while (time(NULL) < start_4 + 1) {
                                        move_straight(speed_move_default, DEFAULT_TIME, fourth_angle);
                                    }
                                    turn_to(speed_move_default, tenth_angle, 1);
                                    override_action(10);
                                } else {
                                    set_tacho_command_inx(sn_clamp, TACHO_RUN_FOREVER);
                                    change_action();
                                }
                            } else if ((sonar < 540) && (sonar > 450) && (can_catch)) {
                                can_catch = !catch_flag(speed_clamp);
                                if (!can_catch) {
                                    printf("\rFOUND THE FLAG!!! FOUND THE FLAG!!!\n");
                                }
                            } else if (sonar <= 450) {
                                close_clamp(speed_clamp, 1000);
                                move_straight(speed_move_default, DEFAULT_TIME, third_angle);
                                // set_tacho_command_inx(sn_clamp, TACHO_RUN_FOREVER);
                            } else {
                                if (sonar > 600) {
                                    can_catch = true;
                                    open_clamp(speed_move_default, 1000);
                                }
                                move_straight(speed_left, speed_right, third_angle);
                            }
                        } else if (action == 4) {
                            time_t now = time(NULL);
                            // printf("%ld\n", now);
                            move_straight(speed_return, DEFAULT_TIME, ref_angle_fourth_phase);
                            if (sonar <= DISTANCE_STOP) {
                                move_forward(0, 0, DEFAULT_TIME);
                                Sleep(1000); // Wait 5 five seconds 
                                allow_quit = true;
                            }
                            else if ((sonar <= 250) && (now - start_4 < 10)) {
                                ref_angle_fourth_phase = fourth_angle + 4;
                                bypass_back(speed_move_default, ref_angle_fourth_phase, now - start < 7);
                            } else if (sonar <= 210) {
                                stop_motor(sn_clamp);
                                turn_to(speed_return, fifth_angle, 1);
                                // change_action();
                                move_forward(0, 0, DEFAULT_TIME);
                                open_clamp(speed_clamp, 1000);
                                Sleep(500);
                                turn_right_in_place(speed_clamp, 1000);
                                change_action();
                                Sleep(500);
                                stop_motor(sn_clamp);
                                Sleep(500);
                                quit = true;
                            }
                        } else if (action == 10) {
                            if (val_sonar <= 250) {
                                turn_to(speed_move_default, second_angle, 1);
                                override_action(2);
                            } else {
                                move_straight(2 * speed_move_default, DEFAULT_TIME, tenth_angle);
                            }
                        }
                    }
                }
            
                stop_motor(sn_wheel_left);
                stop_motor(sn_wheel_right);
                stop_motor(sn_clamp);
                ev3_uninit();
                return 0;
            }
          </pre>
            
          </div>

          <div class="project-item" data-filter-item data-category="move_straight" >
            <h4 class="h4 timeline-item-title">move_straight</h4>
            <pre class="timeline-text">
              
/**
* @brief Move the robot in a straigh line accoring to gyro_ref
* 
* @param speed_default the baseline speed
* @param time the time the motor should turn
* @param gyro_ref the value of reference for the gyroscope
*/
void move_straight(int speed_default, int time, float default_gyro) {
   float speed_left;
   float speed_right;

   update_gyro();
   int diff = (int) (default_gyro - gyro_now) % 360;
   if (diff != 0) {
       float mul = 1 + (float) abs(diff) / 5;
       if (diff > 0) {
           speed_left  = mul * speed_default;
           speed_right = 1.0 * speed_default;
       } else if (diff < 0) {
           speed_left  = 1.0 * speed_default;
           speed_right = mul * speed_default;
       }
       // printf("%f, %f, %f\n", mul, speed_left, speed_right);
   } else {
       speed_right = speed_default;
       speed_left  = speed_default;
   }
   move_forward(speed_left, speed_right, time);
}
            </pre>

          </div>

          <div class="project-item" data-filter-item data-category="turn_to" >
            <h4 class="h4 timeline-item-title">turn_to</h4>
            <pre class="timeline-text">
              void turn_to(int speed, float gyro_ref, int marge) {
                int gyro_now = update_gyro();
                bool quit = false;
                float diff;
                while (!quit) {
                    diff = gyro_ref - gyro_now;
                    if (diff > 0) {
                        turn_right(speed, DEFAULT_TIME);
                    } else if (diff < 0) {
                        turn_left(speed, DEFAULT_TIME);
                    }
                    gyro_now = update_gyro();
                    quit = (gyro_ref - marge <= gyro_now) && (gyro_now <= gyro_ref + marge);
                }
            }
          </pre>

        </div>
      
        <div class="project-item" data-filter-item data-category="bypass_obstacle" >
          <h4 class="h4 timeline-item-title">bypass_obstacle</h4>
          <pre class="timeline-text">
            void bypass_obstacle(int speed, float reference_angle, bool obstacle) {
              printf("%d\n", obstacle);
              time_t now;
              time_t start_1 = time(&now);
              if (obstacle) {
                  while(start_1 + 2 > now){
                      move_straight(-speed, DEFAULT_TIME, reference_angle);
                      time(&now);
                  }
              }
              turn_to(speed, reference_angle - 90, 1);
              update_sonar();
              while (val_sonar >= 250) {
                  move_straight(2 * speed, DEFAULT_TIME, reference_angle - 90);
                  update_sonar();
              }
              turn_to(speed, reference_angle, 1);
              time_t start_2 = time(NULL);
              if (obstacle){
                  while (start_2 + 2 > now) {
                      move_straight(2 * speed, DEFAULT_TIME, reference_angle);
                      time(&now);
                  }
              } else {
                  while (start_2 + 1 > now) {
                      move_straight(2 * speed, DEFAULT_TIME, reference_angle);
                      time(&now);
                  }
              }
              turn_to(speed, reference_angle + 90, 1);
              update_sonar();
              while (val_sonar >= 250) {
                  move_straight(2 * speed, DEFAULT_TIME, reference_angle + 90);
                  update_sonar();
              }
              turn_to(speed, reference_angle, 1);
          }
</pre>
        </div>          

        <div class="project-item" data-filter-item data-category="bypass_back" >
          <h4 class="h4 timeline-item-title">bypass_back</h4>
          <pre class="timeline-text">
            void bypass_back(int speed, float reference_angle, bool obstacle) {
              // Sleep(3000);
              // update_sonar();
              // if (val_sonar >= 200) {
              //     printf("There is no opponent\n");
              //     return;
              // }
              printf("%d\n", obstacle);
              time_t now;
              time_t start_1 = time(&now);
              if (obstacle) {
                  while(start_1 + 2 > now){
                      move_straight(-2 * speed, DEFAULT_TIME, reference_angle);
                      time(&now);
                  }
              }
              turn_to(speed, reference_angle - 90, 1);
              update_sonar();
              while (val_sonar >= 300) {
                  move_straight(2 * speed, DEFAULT_TIME, reference_angle - 90);
                  update_sonar();
              }
              turn_to(speed, reference_angle, 1);  
          }
          </pre>
        </div>

        <div class="project-item" data-filter-item data-category="get_color_from_sensor" >
          <h4 class="h4 timeline-item-title">get_color_from_sensor</h4>
          <pre class="timeline-text">
            
/**
* @brief Retrieves the color from a sensor.
*
* This function checks if a LEGO EV3 color sensor is connected. If it is, it retrieves the sensor value.
* If the sensor value is not retrievable, or if it is outside the valid range (0 to COLOR_COUNT-1), it defaults to 0.
* It then returns the color corresponding to the sensor value from the color array.
* If the sensor is not connected, it returns the first color in the color array.
*
* @note The function does not take any parameters.
*
* @return const char* The color corresponding to the sensor value, or the first color in the array if the sensor 
is not connected or the sensor value is invalid.
*/
int get_color_from_sensor(void) {
   int val = 0;

   if (ev3_search_sensor(LEGO_EV3_COLOR, &sn_color, 0)) {
       if (!get_sensor_value(0, sn_color, &val) || (val < 0) || (val >= COLOR_COUNT)) {
           val = 0;
       }
   }
   return val;
   // return color[val];
}

</pre>
</div>

<div class="project-item" data-filter-item data-category="full code" >
  <h4 class="h4 timeline-item-title">Full code</h4>
  <p class="timeline-text">
    The code provided here is not exhaustive. You can find it in its entirety at this address :
    <address class="timeline-text">
      https://gitlab.eurecom.fr/gasc/os-project
    </address>

            </p>
      </article>





      <!--
        - #CONTACT
      -->

      <article class="videos" data-page="videos">

        <header>
          <h2 class="h2 article-title">Videos</h2>
        </header>

        <section class="mapbox" data-mapbox>
          <figure>
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d199666.5651251294!2d-121.58334177520186!3d38.56165006739519!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x809ac672b28397f9%3A0x921f6aaa74197fdb!2sSacramento%2C%20CA%2C%20USA!5e0!3m2!1sen!2sbd!4v1647608789441!5m2!1sen!2sbd"
              width="400" height="300" loading="lazy"></iframe>
          </figure>
        </section>

        <section class="contact-form">

          <h3 class="h3 form-title">Contact Form</h3>

          <form action="#" class="form" data-form>

            <div class="input-wrapper">
              <input type="text" name="fullname" class="form-input" placeholder="Full name" required data-form-input>

              <input type="email" name="email" class="form-input" placeholder="Email address" required data-form-input>
            </div>

            <textarea name="message" class="form-input" placeholder="Your Message" required data-form-input></textarea>

            <button class="form-btn" type="submit" disabled data-form-btn>
              <ion-icon name="paper-plane"></ion-icon>
              <span>Send Message</span>
            </button>

          </form>

        </section>

      </article>

    </div>

  </main>



  


  <!--
    - custom js link
  -->
  <script src="./assets/js/script.js"></script>

  <!--
    - ionicon link
  -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>

</html>